---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import header1 from "../assets/header_1.png";
import header2 from "../assets/header_2.png";
import header3 from "../assets/header_3.png";
import header4 from "../assets/header_4.png";
import header5 from "../assets/header_5.png";
import Video from "../components/Video.astro";
import Button from "../components/Button.astro";
---

<Layout title="Welcome to Astro.">
  <main>
    <h1>VINTAGEMÖBEL AUS DEM WEDDING</h1>
    <h2>
      23.03.2023 <br />
      16:00 UHR
    </h2>
    <div class="graphics">
      <img class="eroeffnung" src="/eröffnung.svg" alt="Eröffnung" />
      <div class="images">
        <img class="furniture" date-replace src="" alt="Image of a chair" />
        <Image data-headerno="1" src={header1} alt="" />
        <Image data-headerno="2" src={header2} alt="" />
        <Image data-headerno="3" src={header3} alt="" />
        <Image data-headerno="4" src={header4} alt="" />
        <Image data-headerno="5" src={header5} alt="" />
      </div>
    </div>
    <Video />
    <Button text="IM GOOGLE KALENDER SPEICHERN" />
    <Button text="IM APPLE KALENDER SPEICHERN" />
    <Button text="IN OUTLOOK SPEICHERN" />
  </main>
</Layout>
<script>
  const image1 = document.querySelector('[data-headerno="1"]')!;
  const image2 = document.querySelector('[data-headerno="2"]')!;
  const image3 = document.querySelector('[data-headerno="3"]')!;
  const image4 = document.querySelector('[data-headerno="4"]')!;
  const image5 = document.querySelector('[data-headerno="5"]')!;
  const placeholder = document.querySelector("[date-replace]")!;
  placeholder.src = image1.src;

  // switch images after scroll
  window.addEventListener("scroll", () => {
    if (window.scrollY > 0) placeholder.src = image1.src;
    if (window.scrollY > 50) placeholder.src = image2.src;
    if (window.scrollY > 150) placeholder.src = image3.src;
    if (window.scrollY > 250) placeholder.src = image4.src;
    if (window.scrollY > 350) placeholder.src = image5.src;
  });
</script>

<style lang="scss">
  main {
    padding: 23px;
  }

  [data-headerno] {
    display: none;
  }

  h1,
  h2 {
    font-size: 39px;
    font-weight: 300;
    margin: 0;
  }

  h1 {
    margin-bottom: 28px;
  }

  .graphics {
    display: flex;
    align-items: flex-start;

    .images {
      margin-top: 10px;
      flex: 1 1 0;
      // width: 100%;
    }
    .furniture {
      object-fit: contain;
      object-position: top center;
      max-width: 100%;
      width: 100%;
      height: 370px;
    }

    img {
      // height: 100%;
      // cover
    }
  }
  .eroeffnung {
    margin-top: 28px;
  }
</style>
